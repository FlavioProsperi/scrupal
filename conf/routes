######################################################################################################################
# This file is part of Scrupal a Web Application Framework.                                                          #
#                                                                                                                    #
# Copyright (c) 2013, Reid Spencer and viritude llc. All Rights Reserved.                                            #
#                                                                                                                    #
# Scrupal is free software: you can redistribute it and/or modify it under the terms                                 #
# of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License,   #
# or (at your option) any later version.                                                                             #
#                                                                                                                    #
# Scrupal is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied      #
# warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more      #
# details.                                                                                                           #
#                                                                                                                    #
# You should have received a copy of the GNU General Public License along with Scrupal. If not, see either:          #
# http://www.gnu.org/licenses or http://opensource.org/licenses/GPL-3.0.                                             #
######################################################################################################################
# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page for Scrupal which provides setup instructions, etc.
GET            /                                      scrupal.controllers.Home.index

# Configuration main page for first-time or any-time configuration wizard
GET            /configure                             scrupal.controllers.ScrupalConfiguration.configure
POST           /configure                             scrupal.controllers.ScrupalConfiguration.configAction

# Special handling for AngularJS modules that have partial HTML files that need to be served.
GET            /chunks/:module/:file                  scrupal.controllers.Assets.chunk(module,file)

# Special handling for the favicon
GET            /assets/favicon                        scrupal.controllers.Assets.favicon

# Get dependency managed resources from WebJars
GET            /webjars/require.js                    scrupal.controllers.Assets.requirejs
GET            /webjars/javascripts/*file             scrupal.controllers.Assets.js(file)
GET            /webjars/stylesheets/*file             scrupal.controllers.Assets.css(file)
GET            /webjars/*file                         scrupal.controllers.Assets.misc(file)

# Map the specialized, manufactured jsroutes.js file which maps THESE routes into javascript !
GET            /assets/javascripts/jsroutes.js        scrupal.controllers.Home.jsRoutes(varName ?= "jsRoutes")

# Map static resources from the /assets folder to the /assets URL path
GET            /assets/javascripts/*file              scrupal.controllers.Assets.js_s(file)
#GET            /assets/javascripts-min/*file          scrupal.controllers.Assets.js_s(file, min=true)
GET            /assets/stylesheets/*file              scrupal.controllers.Assets.css_s(file)
#GET            /assets/stylesheets-min/*file          scrupal.controllers.Assets.css_s(file,min=true)
GET            /assets/images/*file                   scrupal.controllers.Assets.img(file)
GET            /assets/themes/:provider/*file         scrupal.controllers.Assets.theme(provider, file)
GET            /assets/docs/*file                     scrupal.controllers.Assets.doc(file)
GET            /assets/*file                          scrupal.controllers.Assets.fallback(path="/public", file)
GET            /template/*file                        scrupal.controllers.Assets.template(file)

# Scrupal UI Applications routing
GET            /admin                                 scrupal.controllers.Home.admin
GET            /dump                                  scrupal.controllers.Home.dump
GET            /apidoc                                scrupal.controllers.Home.apidoc

# Provide A REST based API For Scrupal Entities
GET            /api/:kind/:id/:what                   scrupal.controllers.API.get(kind, id, what)
PUT            /opi/:kind/:id/:what                   scrupal.controllers.API.put(kind, id, what)

GET            /api/:kind/:id                         scrupal.controllers.API.fetch(kind, id)
POST           /api/:kind/:id                         scrupal.controllers.API.create(kind,id)
PUT            /api/:kind/:id                         scrupal.controllers.API.update(kind, id)
DELETE         /api/:kind/:id                         scrupal.controllers.API.delete(kind, id)
OPTIONS        /api/:kind/:id                         scrupal.controllers.API.optionsOf(kind, id)

GET            /api/:kind                             scrupal.controllers.API.fetchAll(kind)
POST           /api/:kind                             scrupal.controllers.API.createAll(kind)
PUT            /api/:kind                             scrupal.controllers.API.updateAll(kind)
DELETE         /api/:kind                             scrupal.controllers.API.deleteAll(kind)
OPTIONS        /api/:kind                             scrupal.controllers.API.optionsOfAll(kind)


# Routes that provide the Scrupal Documentation
GET            /doc                                   scrupal.controllers.Home.docPage(path="index.html")
GET            /doc/*path                             scrupal.controllers.Home.docPage(path)

# Routes for the REST based API Documentation facility. Same as /api but all GET requests with METHOD inserted at start
GET            /doc/api                               scrupal.controllers.APIDoc.introduction()
GET            /doc/api/GET/:kind/:id/:action         scrupal.controllers.APIDoc.doTo(kind, id, action)
GET            /doc/api/GET/:kind/:id                 scrupal.controllers.APIDoc.fetch(kind, id)
GET            /doc/api/POST/:kind/:id                scrupal.controllers.APIDoc.create(kind,id)
GET            /doc/api/PUT/:kind/:id                 scrupal.controllers.APIDoc.update(kind, id)
GET            /doc/api/DELETE/:kind/:id              scrupal.controllers.APIDoc.delete(kind, id)
GET            /doc/api/HEAD/:kind/:id                scrupal.controllers.APIDoc.summarize(kind, id)
GET            /doc/api/OPTIONS/:kind/:id             scrupal.controllers.APIDoc.optionsOf(kind, id)
GET            /doc/api/GET/:kind                     scrupal.controllers.APIDoc.fetchAll(kind)
GET            /doc/api/POST/:kind                    scrupal.controllers.APIDoc.createAll(kind)
GET            /doc/api/PUT/:kind                     scrupal.controllers.APIDoc.updateAll(kind)
GET            /doc/api/DELETE/:kind                  scrupal.controllers.APIDoc.deleteAll(kind)
GET            /doc/api/HEAD/:kind                    scrupal.controllers.APIDoc.summarizeAll(kind)
GET            /doc/api/OPTIONS/:kind                 scrupal.controllers.APIDoc.optionsOfAll(kind)




# Login page
# User Signup, Login, Password Reset, Greeting and Logout
#GET    /login                                  scrupal.controllers.Authentication.login
#GET    /logout                                 scrupal.controllers.Authentication.logout
#GET    /not-authorized                         scrupal.controllers.Authentication.notAuthorized
#GET    /goodbye                                scrupal.controllers.Authentication.goodbye

#GET    /signup                                 scrupal.controllers.Signup.startSignUp
#POST   /signup                                 scrupal.controllers.Signup.handleStartSignUp
#GET    /signup/:token                          scrupal.controllers.Signup.signUp(token)
#POST   /signup/:token                          scrupal.controllers.Signup.handleSignUp(token)
#GET    /reset                                  scrupal.controllers.Signup.startResetPassword
#POST   /reset                                  scrupal.controllers.Signup.handleStartResetPassword
#GET    /reset/:token                           scrupal.controllers.Signup.resetPassword(token)
#POST   /reset/:token                           scrupal.controllers.Signup.handleResetPassword(token)
#GET    /password                               scrupal.controllers.Password.changePassword
#POST   /password                               scrupal.controllers.Password.handlePasswordChange

#GET    /welcome                                scrupal.controllers.Authenticated.welcome

# Admin application lives at this url
#GET    /index                                  scrupal.controllers.Administration.adminIndex
#GET    /index/module                           scrupal.controllers.Administration.adminListModules
#GET    /index/module/:mod                      scrupal.controllers.Administration.adminModule(mod)


