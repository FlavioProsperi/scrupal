######################################################################################################################
# This file is part of Scrupal a Web Application Framework.                                                          #
#                                                                                                                    #
# Copyright (c) 2013, Reid Spencer and viritude llc. All Rights Reserved.                                            #
#                                                                                                                    #
# Scrupal is free software: you can redistribute it and/or modify it under the terms                                 #
# of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License,   #
# or (at your option) any later version.                                                                             #
#                                                                                                                    #
# Scrupal is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied      #
# warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more      #
# details.                                                                                                           #
#                                                                                                                    #
# You should have received a copy of the GNU General Public License along with Scrupal. If not, see either:          #
# http://www.gnu.org/licenses or http://opensource.org/licenses/GPL-3.0.                                             #
######################################################################################################################
# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page for Scrupal which provides setup instructions, etc.
GET            /                                 scrupal.controllers.Home.index
GET            /jsroutes                        scrupal.controllers.Home.jsRoutes(varName ?= "jsRoutes")

# Login page
# User Signup, Login, Password Reset, Greeting and Logout
#GET    /login                                  scrupal.controllers.Authentication.login
#GET    /logout                                 scrupal.controllers.Authentication.logout
#GET    /not-authorized                         scrupal.controllers.Authentication.notAuthorized
#GET    /goodbye                                scrupal.controllers.Authentication.goodbye

#GET    /signup                                 scrupal.controllers.Signup.startSignUp
#POST   /signup                                 scrupal.controllers.Signup.handleStartSignUp
#GET    /signup/:token                          scrupal.controllers.Signup.signUp(token)
#POST   /signup/:token                          scrupal.controllers.Signup.handleSignUp(token)
#GET    /reset                                  scrupal.controllers.Signup.startResetPassword
#POST   /reset                                  scrupal.controllers.Signup.handleStartResetPassword
#GET    /reset/:token                           scrupal.controllers.Signup.resetPassword(token)
#POST   /reset/:token                           scrupal.controllers.Signup.handleResetPassword(token)
#GET    /password                               scrupal.controllers.Password.changePassword
#POST   /password                               scrupal.controllers.Password.handlePasswordChange

#GET    /welcome                                scrupal.controllers.Authenticated.welcome

# Admin application lives at this url
#GET    /admin                                  scrupal.controllers.Administration.adminIndex
#GET    /admin/module                           scrupal.controllers.Administration.adminListModules
#GET    /admin/module/:mod                      scrupal.controllers.Administration.adminModule(mod)

# REST based Entities
POST           /api/:kind                        scrupal.controllers.Entity.create(kind)
GET            /api/:kind/:id                    scrupal.controllers.Entity.read(kind, id)
PUT            /api/:kind/:id                    scrupal.controllers.Entity.update(kind, id)
DELETE         /api/:kind/:id                    scrupal.controllers.Entity.delete(kind, id)
HEAD           /api/:kind/:id                    scrupal.controllers.Entity.info(kind, id)
OPTIONS        /api/:kind/:id                    scrupal.controllers.Entity.options(kind, id)

# Get dependency managed resources from WebJars
GET            /webjars/javascripts/*file        scrupal.controllers.Assets.js(file)
GET            /webjars/stylesheets/*file        scrupal.controllers.Assets.css(file)
GET            /webjars/*file                    scrupal.controllers.Assets.misc(file)
GET            /require.js                       scrupal.controllers.Assets.requirejs

# Map static resources from the /assets folder to the /assets URL path

GET            /assets/javascripts/*file         scrupal.controllers.Assets.js_s(file)
GET            /assets/stylesheets/*file         scrupal.controllers.Assets.css_s(file)
GET            /assets/images/*file              scrupal.controllers.Assets.img(file)
GET            /assets/themes/*file              scrupal.controllers.Assets.theme(file)
GET            /assets/*file                     scrupal.controllers.Assets.fallback(path="/public", file)
