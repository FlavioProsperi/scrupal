@(x: scrupal.api.ExceptionResult)
@import java.io.StringWriter
@import java.io.PrintWriter
@import org.apache.commons.lang3.exception.ExceptionUtils
<div class="bg-danger">
  <dl class="dl-horizontal">
    <dt>Exception:</dt>
    <dd>@{x.payload.getClass.getCanonicalName}</dd>
    <dt>Message:</dt>
    <dd>@{x.payload.getLocalizedMessage}</dd>
    <dt>Root Cause:</dt>
    <dd><pre style="width:95%"><code style="font-size:8pt">@{
      var sw: StringWriter = null
      var pw: PrintWriter = null
      try {
        sw = new StringWriter()
        pw = new PrintWriter(sw)
        ExceptionUtils.printRootCauseStackTrace(x.payload, pw)
        sw.toString
      } finally {
        if(pw != null)  pw.close()
        if(sw != null)  sw.close()
      }
    }
    </code></pre><br/></dd>
  </dl>
</div>
